{"version":3,"sources":["PagerView.js"],"names":["PagerView","React","Component","e","props","onPageScroll","Platform","OS","keyboardDismissMode","Keyboard","dismiss","onPageScrollStateChanged","isScrolling","nativeEvent","pageScrollState","onPageSelected","selectedPage","UIManager","dispatchViewManagerCommand","ReactNative","findNodeHandle","Commands","setPage","setPageWithoutAnimation","scrollEnabled","setScrollEnabled","componentWillUnmount","animationFrameRequestId","undefined","cancelAnimationFrame","componentDidMount","initialPage","requestAnimationFrame","render","createElement","PagerViewViewManager","count","Children","children","offset","style","_onPageScroll","_onPageScrollStateChanged","_onPageSelected","onMoveShouldSetResponderCapture","_onMoveShouldSetResponderCapture"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Platform, UIManager, Keyboard } from 'react-native';\nimport ReactNative from 'react-native';\nimport { childrenWithOverriddenStyle } from './utils';\nimport { getViewManagerConfig, PagerViewViewManager } from './PagerViewNative';\n/**\n * Container that allows to flip left and right between child views. Each\n * child view of the `PagerView` will be treated as a separate page\n * and will be stretched to fill the `PagerView`.\n *\n * It is important all children are `<View>`s and not composite components.\n * You can set style properties like `padding` or `backgroundColor` for each\n * child. It is also important that each child have a `key` prop.\n *\n * Example:\n *\n * ```\n * render: function() {\n *   return (\n *     <PagerView\n *       style={styles.PagerView}\n *       initialPage={0}>\n *       <View style={styles.pageStyle} key=\"1\">\n *         <Text>First page</Text>\n *       </View>\n *       <View style={styles.pageStyle} key=\"2\">\n *         <Text>Second page</Text>\n *       </View>\n *     </PagerView>\n *   );\n * }\n *\n * ...\n *\n * var styles = {\n *   ...\n *   PagerView: {\n *     flex: 1\n *   },\n *   pageStyle: {\n *     alignItems: 'center',\n *     padding: 20,\n *   }\n * }\n * ```\n */\nexport class PagerView extends React.Component {\n    isScrolling = false;\n    animationFrameRequestId;\n    componentWillUnmount() {\n        if (this.animationFrameRequestId !== undefined) {\n            cancelAnimationFrame(this.animationFrameRequestId);\n        }\n    }\n    componentDidMount() {\n        if (this.props.initialPage !== undefined) {\n            this.animationFrameRequestId = requestAnimationFrame(() => {\n                if (this.props.initialPage !== undefined) {\n                    this.setPageWithoutAnimation(this.props.initialPage);\n                }\n            });\n        }\n    }\n    _onPageScroll = (e) => {\n        if (this.props.onPageScroll) {\n            this.props.onPageScroll(e);\n        }\n        // Not implemented on iOS yet\n        if (Platform.OS === 'android') {\n            if (this.props.keyboardDismissMode === 'on-drag') {\n                Keyboard.dismiss();\n            }\n        }\n    };\n    _onPageScrollStateChanged = (e) => {\n        if (this.props.onPageScrollStateChanged) {\n            this.props.onPageScrollStateChanged(e);\n        }\n        this.isScrolling = e.nativeEvent.pageScrollState === 'dragging';\n    };\n    _onPageSelected = (e) => {\n        if (this.props.onPageSelected) {\n            this.props.onPageSelected(e);\n        }\n    };\n    /**\n     * A helper function to scroll to a specific page in the PagerView.\n     * The transition between pages will be animated.\n     */\n    setPage = (selectedPage) => {\n        UIManager.dispatchViewManagerCommand(ReactNative.findNodeHandle(this), getViewManagerConfig().Commands.setPage, [selectedPage]);\n    };\n    /**\n     * A helper function to scroll to a specific page in the PagerView.\n     * The transition between pages will *not* be animated.\n     */\n    setPageWithoutAnimation = (selectedPage) => {\n        UIManager.dispatchViewManagerCommand(ReactNative.findNodeHandle(this), getViewManagerConfig().Commands.setPageWithoutAnimation, [selectedPage]);\n    };\n    /**\n     * A helper function to enable/disable scroll imperatively\n     * The recommended way is using the scrollEnabled prop, however, there might be a case where a\n     * imperative solution is more useful (e.g. for not blocking an animation)\n     */\n    setScrollEnabled = (scrollEnabled) => {\n        UIManager.dispatchViewManagerCommand(ReactNative.findNodeHandle(this), getViewManagerConfig().Commands.setScrollEnabled, [scrollEnabled]);\n    };\n    _onMoveShouldSetResponderCapture = () => {\n        return this.isScrolling;\n    };\n    render() {\n        return (React.createElement(PagerViewViewManager, { ...this.props, count: React.Children.count(this.props.children), offset: 0, style: this.props.style, onPageScroll: this._onPageScroll, onPageScrollStateChanged: this._onPageScrollStateChanged, onPageSelected: this._onPageSelected, onMoveShouldSetResponderCapture: this._onMoveShouldSetResponderCapture, children: childrenWithOverriddenStyle(this.props.children) }));\n    }\n}\n"]}